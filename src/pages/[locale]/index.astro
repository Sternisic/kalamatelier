---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getTranslation, getNavigationTranslation } from '../../i18n/utils';

// Unterstützte Sprachen für dynamische Routen
export async function getStaticPaths() {
  return [
    { params: { locale: 'en' } },
    { params: { locale: 'nl' } },
    { params: { locale: 'ar' } },
  ];
}

// Aktuelle Sprache und Fallback-Mechanismus
const locale = Astro.params.locale || 'en';
const t = getTranslation(locale); // Übersetzungen für die aktuelle Sprache
const nav = getNavigationTranslation(locale);
---
<script>
  import { initializeAOS } from '../../scripts/aos-init';
  initializeAOS();
</script>

<BaseLayout>
  <!-- Erste Section -->
  <section
    class="homepage-section bg-[#EAE5E2] text-[#3D2225] px-4 md:px-12 lg:px-20 py-8"
    data-aos="fade-up"
    data-aos-duration="1000"
  >
    <div class="flex flex-col md:flex-row items-center justify-between gap-8">
      <!-- Bild links -->
      <div class="flex-1">
        <img
          src="/src/assets/hero-image.jpg"
          alt={t.site.title}
          class="w-full h-auto object-cover rounded-lg shadow-md"
        />
      </div>
      <!-- Text rechts -->
      <div class="flex-1 text-center md:text-left md:pl-12 lg:pl-16">
        <h1
          class="homepage-translatable text-2xl md:text-4xl font-bold mb-4"
          data-key="title"
        >
          {t.site.title}
        </h1>
        <p
          class="homepage-translatable text-sm md:text-lg font-light mb-4"
          data-key="description"
        >
          {t.site.description}
        </p>
      </div>
    </div>
  </section>

  <!-- Zweite Section -->
  <section
    class="services-section bg-[#D8BFA4] text-[#3D2225] py-8 px-4 md:px-12 lg:px-20"
    data-aos="fade-up"
    data-aos-duration="1000"
    data-aos-delay="200"
  >
    <div class="flex flex-col md:flex-row gap-8">
      <!-- Vertalingen -->
      <div class="relative group flex-1">
        <div class="w-full h-full md:h-[20rem] overflow-hidden rounded-lg shadow-md">
          <img
            src="/src/assets/translation.jpg"
            alt={nav.vertalingen}
            class="w-full h-full object-cover transition duration-300 filter grayscale-[65%] group-hover:grayscale-0"
          />
        </div>
        <div class="absolute bottom-0 left-0 w-full bg-opacity-75 bg-[#EAE5E2] text-center py-2">
          <a
            href={`/${locale}/diensten/vertalingen`}
            class="text-base md:text-xl font-bold hover:text-[#B4533A] transition duration-300"
          >
            {nav.vertalingen}
          </a>
        </div>
      </div>

      <!-- Revisie -->
      <div class="relative group flex-1">
        <div class="w-full h-full md:h-[20rem] overflow-hidden rounded-lg shadow-md">
          <img
            src="/src/assets/revision.jpg"
            alt={nav.revisie}
            class="w-full h-full object-cover transition duration-300 filter grayscale-[65%] group-hover:grayscale-0"
          />
        </div>
        <div class="absolute bottom-0 left-0 w-full bg-opacity-75 bg-[#EAE5E2] text-center py-2">
          <a
            href={`/${locale}/diensten/revisie`}
            class="text-base md:text-xl font-bold hover:text-[#B4533A] transition duration-300"
          >
            {nav.revisie}
          </a>
        </div>
      </div>

      <!-- Taalanalyse -->
      <div class="relative group flex-1">
        <div class="w-full h-full md:h-[20rem] overflow-hidden rounded-lg shadow-md">
          <img
            src="/src/assets/language-analysis.jpg"
            alt={nav.taalanalyse}
            class="w-full h-full object-cover transition duration-300 filter grayscale-[65%] group-hover:grayscale-0"
          />
        </div>
        <div class="absolute bottom-0 left-0 w-full bg-opacity-75 bg-[#EAE5E2] text-center py-2">
          <a
            href={`/${locale}/diensten/taalanalyse`}
            class="text-base md:text-xl font-bold hover:text-[#B4533A] transition duration-300"
          >
            {nav.taalanalyse}
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Dritte Section -->
  <section
    class="third-section bg-[#EAE5E2] text-[#3D2225] py-8 px-4 md:px-12 lg:px-20"
    data-aos="fade-up"
    data-aos-duration="1000"
    data-aos-delay="300"
  >
    <div class="flex flex-col md:flex-row items-center justify-between gap-8">
      <!-- Text links -->
      <div class="flex-1 text-center md:text-left md:pr-12 lg:pr-16">
        <h2 class="homepage-translatable text-2xl md:text-3xl font-bold mb-4" data-key="services-title">
          {t.site.servicesTitle}
        </h2>
        <p class="homepage-translatable text-sm md:text-lg font-light mb-4" data-key="services-description">
          {t.site.servicesDescription}
        </p>
        <a
          href={`/${locale}/services`}
          class="bg-[#3D2225] text-[#EAE5E2] py-2 px-4 md:py-2 md:px-6 rounded-lg hover:bg-[#B4533A] transition duration-300"
        >
          {t.site.exploreServices}
        </a>
      </div>

      <!-- Bild rechts -->
      <div class="flex-1">
        <img
          src="/src/assets/services-image.jpg"
          alt={t.site.servicesAlt}
          class="w-full h-auto object-cover rounded-lg shadow-lg"
        />
      </div>
    </div>
  </section>
</BaseLayout>
